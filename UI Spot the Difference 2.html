<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Visual Testing - Spot the Difference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .stats-bar {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .stat {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            padding: 15px 25px;
            border-radius: 15px;
            color: white;
            text-align: center;
            min-width: 120px;
            border: 1px solid rgba(255,255,255,0.2);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .game-area {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .game-area::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
        }

        .difficulty-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .difficulty-btn {
            padding: 12px 24px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .difficulty-btn.active,
        .difficulty-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }

        .panels-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .panel {
            position: relative;
            border: 2px solid #f0f0f0;
            border-radius: 12px;
            overflow: hidden;
            background: #fafafa;
        }

        .panel-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 20px;
            font-weight: 600;
            text-align: center;
            position: relative;
        }

        .ui-mockup {
            padding: 25px;
            min-height: 400px;
            position: relative;
            cursor: crosshair;
        }

        .ui-element {
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .ui-button {
            display: inline-block;
            padding: 12px 24px;
            background: #007AFF;
            color: white;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            margin-right: 10px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
        }

        .ui-button:hover {
            background: #0056b3;
            transform: translateY(-1px);
        }

        .ui-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }

        .ui-input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .ui-text {
            color: #333;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .difference-marker {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 3px solid #ff3b30;
            border-radius: 50%;
            background: rgba(255, 59, 48, 0.1);
            cursor: pointer;
            z-index: 100;
            animation: pulse 2s infinite;
            pointer-events: none;
            opacity: 0;
        }

        .difference-marker.found {
            background: rgba(52, 199, 89, 0.2);
            border-color: #34c759;
            animation: foundPulse 0.5s ease-out;
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.7; }
            50% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); opacity: 0.7; }
        }

        @keyframes foundPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        .click-effect {
            position: absolute;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.8) 0%, transparent 70%);
            pointer-events: none;
            animation: clickRipple 0.6s ease-out forwards;
        }

        @keyframes clickRipple {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(4);
                opacity: 0;
            }
        }

        .progress-bar {
            background: #f0f0f0;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #34c759, #30d158);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .control-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.95rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #333;
            border: 2px solid #e9ecef;
        }

        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-primary:hover {
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            transform: scale(0.8);
            animation: modalSlideIn 0.3s ease-out forwards;
        }

        @keyframes modalSlideIn {
            to {
                transform: scale(1);
            }
        }

        .modal h2 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.8rem;
        }

        .modal p {
            color: #666;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #34c759;
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(52, 199, 89, 0.3);
            z-index: 1001;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        .hint-system {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 10px;
            border: 1px solid rgba(0,0,0,0.1);
        }

        .hint-btn {
            background: #ff9500;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .hint-btn:hover {
            background: #e68600;
            transform: translateY(-1px);
        }

        .hint-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        @media (max-width: 768px) {
            .panels-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .stats-bar {
                gap: 15px;
            }
            
            .stat {
                min-width: 100px;
                padding: 12px 20px;
            }
        }

        .level-complete {
            background: linear-gradient(135deg, #34c759, #30d158);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(52, 199, 89, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>UI Visual Testing Challenge</h1>
            <p>Sharpen your eye for detail. Find the subtle differences between these UI mockups.</p>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-value" id="level">1</span>
                <span class="stat-label">Level</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="score">0</span>
                <span class="stat-label">Score</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="found">0</span>
                <span class="stat-label">Found</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="timer">0:00</span>
                <span class="stat-label">Time</span>
            </div>
            <div class="stat">
                <span class="stat-value" id="accuracy">100%</span>
                <span class="stat-label">Accuracy</span>
            </div>
        </div>

        <div class="game-area">
            <div class="difficulty-selector">
                <button class="difficulty-btn active" data-difficulty="easy">Easy (3 differences)</button>
                <button class="difficulty-btn" data-difficulty="medium">Medium (5 differences)</button>
                <button class="difficulty-btn" data-difficulty="hard">Hard (7 differences)</button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progress"></div>
            </div>

            <div class="panels-container">
                <div class="panel" id="panel-left">
                    <div class="panel-header">
                        Original Design
                        <div class="hint-system">
                            <button class="hint-btn" id="hint-btn">ðŸ’¡ Hint (<span id="hints-left">3</span>)</button>
                        </div>
                    </div>
                    <div class="ui-mockup" id="mockup-left">
                        <!-- UI elements will be generated here -->
                    </div>
                </div>

                <div class="panel" id="panel-right">
                    <div class="panel-header">Modified Design</div>
                    <div class="ui-mockup" id="mockup-right">
                        <!-- UI elements will be generated here -->
                    </div>
                </div>
            </div>

            <div class="controls">
                <button class="control-btn btn-primary" id="new-game">New Game</button>
                <button class="control-btn btn-secondary" id="reset-level">Reset Level</button>
                <button class="control-btn btn-secondary" id="pause-btn">Pause</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="success-modal">
        <div class="modal-content">
            <h2>ðŸŽ‰ Level Complete!</h2>
            <p id="success-message">Excellent work! You found all differences.</p>
            <div style="margin: 20px 0;">
                <strong>Time: <span id="completion-time"></span></strong><br>
                <strong>Accuracy: <span id="completion-accuracy"></span></strong><br>
                <strong>Score: <span id="completion-score"></span></strong>
            </div>
            <button class="control-btn btn-primary" id="next-level">Next Level</button>
            <button class="control-btn btn-secondary" id="close-modal">Close</button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast" id="toast"></div>

    <script>
        class SpotTheDifferenceGame {
            constructor() {
                this.currentLevel = 1;
                this.score = 0;
                this.foundDifferences = 0;
                this.totalDifferences = 3;
                this.startTime = Date.now();
                this.totalClicks = 0;
                this.correctClicks = 0;
                this.gameTimer = null;
                this.isPaused = false;
                this.hintsLeft = 3;
                this.difficulty = 'easy';
                this.differences = [];
                
                this.initializeGame();
                this.bindEvents();
                this.startTimer();
            }

            initializeGame() {
                this.setDifficulty(this.difficulty);
                this.generateLevel();
                this.updateStats();
            }

            setDifficulty(level) {
                this.difficulty = level;
                switch(level) {
                    case 'easy': this.totalDifferences = 3; break;
                    case 'medium': this.totalDifferences = 5; break;
                    case 'hard': this.totalDifferences = 7; break;
                }
                this.hintsLeft = Math.max(1, Math.floor(this.totalDifferences / 2));
                document.getElementById('hints-left').textContent = this.hintsLeft;
            }

            generateLevel() {
                const leftMockup = document.getElementById('mockup-left');
                const rightMockup = document.getElementById('mockup-right');
                
                // Clear existing content
                leftMockup.innerHTML = '';
                rightMockup.innerHTML = '';
                this.differences = [];

                // Generate base UI elements
                const elements = this.createUIElements();
                
                // Create left (original) panel
                leftMockup.appendChild(elements.original);
                
                // Create right (modified) panel with differences
                const modified = elements.original.cloneNode(true);
                this.addDifferences(modified);
                rightMockup.appendChild(modified);

                // Reset found differences
                this.foundDifferences = 0;
                this.updateProgress();
            }

            createUIElements() {
                const container = document.createElement('div');
                
                // Header section
                const header = document.createElement('div');
                header.className = 'ui-element';
                header.innerHTML = `
                    <h2 style="color: #1d1d1f; font-size: 28px; margin-bottom: 10px; font-weight: 600;">Welcome to Design Studio</h2>
                    <p class="ui-text" style="font-size: 16px; color: #6e6e73;">Create beautiful interfaces with our powerful tools</p>
                `;
                container.appendChild(header);

                // Button group
                const buttonGroup = document.createElement('div');
                buttonGroup.className = 'ui-element';
                buttonGroup.innerHTML = `
                    <button class="ui-button" style="background: #007AFF; padding: 12px 24px; font-size: 16px;">Get Started</button>
                    <button class="ui-button" style="background: #34C759; padding: 12px 24px; font-size: 16px;">Learn More</button>
                    <button class="ui-button" style="background: #FF9500; padding: 12px 24px; font-size: 16px;">Contact Us</button>
                `;
                container.appendChild(buttonGroup);

                // Card section
                const card = document.createElement('div');
                card.className = 'ui-card';
                card.innerHTML = `
                    <h3 style="color: #1d1d1f; font-size: 20px; margin-bottom: 15px; font-weight: 600;">Featured Project</h3>
                    <p class="ui-text" style="font-size: 14px; line-height: 1.6; margin-bottom: 15px;">Experience the next generation of design tools with advanced features and intuitive workflows.</p>
                    <div style="display: flex; gap: 10px; align-items: center;">
                        <span style="background: #E3F2FD; color: #1976D2; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 500;">New</span>
                        <span style="background: #F3E5F5; color: #7B1FA2; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 500;">Premium</span>
                    </div>
                `;
                container.appendChild(card);

                // Form section
                const form = document.createElement('div');
                form.className = 'ui-element';
                form.innerHTML = `
                    <h3 style="color: #1d1d1f; font-size: 18px; margin-bottom: 15px; font-weight: 600;">Quick Signup</h3>
                    <input type="email" class="ui-input" placeholder="Enter your email address" style="font-size: 14px; padding: 12px;">
                    <input type="password" class="ui-input" placeholder="Create a password" style="font-size: 14px; padding: 12px;">
                    <button class="ui-button" style="background: #007AFF; width: 100%; padding: 14px; font-size: 16px; font-weight: 600;">Create Account</button>
                `;
                container.appendChild(form);

                // Stats section
                const stats = document.createElement('div');
                stats.className = 'ui-element';
                stats.innerHTML = `
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 25px;">
                        <div style="text-align: center;">
                            <div style="font-size: 24px; font-weight: bold; color: #007AFF;">10K+</div>
                            <div style="font-size: 12px; color: #6e6e73; margin-top: 4px;">Active Users</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 24px; font-weight: bold; color: #34C759;">500+</div>
                            <div style="font-size: 12px; color: #6e6e73; margin-top: 4px;">Templates</div>
                        </div>
                        <div style="text-align: center;">
                            <div style="font-size: 24px; font-weight: bold; color: #FF9500;">99.9%</div>
                            <div style="font-size: 12px; color: #6e6e73; margin-top: 4px;">Uptime</div>
                        </div>
                    </div>
                `;
                container.appendChild(stats);

                return { original: container };
            }

            addDifferences(modifiedElement) {
                const possibleDifferences = [
                    () => {
                        const button = modifiedElement.querySelector('.ui-button');
                        if (button) {
                            button.style.padding = '10px 20px';
                            this.differences.push({
                                element: button,
                                type: 'padding',
                                description: 'Button padding changed'
                            });
                        }
                    },
                    () => {
                        const title = modifiedElement.querySelector('h2');
                        if (title) {
                            title.style.fontSize = '32px';
                            this.differences.push({
                                element: title,
                                type: 'font-size',
                                description: 'Title font size increased'
                            });
                        }
                    },
                    () => {
                        const secondButton = modifiedElement.querySelectorAll('.ui-button')[1];
                        if (secondButton) {
                            secondButton.style.background = '#FF3B30';
                            this.differences.push({
                                element: secondButton,
                                type: 'color',
                                description: 'Button color changed to red'
                            });
                        }
                    },
                    () => {
                        const card = modifiedElement.querySelector('.ui-card');
                        if (card) {
                            card.style.borderRadius = '6px';
                            this.differences.push({
                                element: card,
                                type: 'border-radius',
                                description: 'Card border radius reduced'
                            });
                        }
                    },
                    () => {
                        const input = modifiedElement.querySelector('.ui-input');
                        if (input) {
                            input.style.borderColor = '#FF9500';
                            input.style.borderWidth = '3px';
                            this.differences.push({
                                element: input,
                                type: 'border',
                                description: 'Input border changed'
                            });
                        }
                    },
                    () => {
                        const subtitle = modifiedElement.querySelector('.ui-text');
                        if (subtitle) {
                            subtitle.style.fontWeight = 'bold';
                            this.differences.push({
                                element: subtitle,
                                type: 'font-weight',
                                description: 'Text weight changed to bold'
                            });
                        }
                    },
                    () => {
                        const thirdButton = modifiedElement.querySelectorAll('.ui-button')[2];
                        if (thirdButton) {
                            thirdButton.style.fontSize = '18px';
                            this.differences.push({
                                element: thirdButton,
                                type: 'font-size',
                                description: 'Button font size increased'
                            });
                        }
                    },
                    () => {
                        const cardTitle = modifiedElement.querySelector('.ui-card h3');
                        if (cardTitle) {
                            cardTitle.style.color = '#FF3B30';
                            this.differences.push({
                                element: cardTitle,
                                type: 'color',
                                description: 'Card title color changed'
                            });
                        }
                    },
                    () => {
                        const tag = modifiedElement.querySelector('[style*="background: #E3F2FD"]');
                        if (tag) {
                            tag.style.background = '#FFEBEE';
                            tag.style.color = '#C62828';
                            this.differences.push({
                                element: tag,
                                type: 'color',
                                description: 'Tag color scheme changed'
                            });
                        }
                    }
                ];

                // Shuffle and select differences based on difficulty
                const shuffled = possibleDifferences.sort(() => 0.5 - Math.random());
                for (let i = 0; i < this.totalDifferences && i < shuffled.length; i++) {
                    shuffled[i]();
                }
            }

            bindEvents() {
                // Difficulty selector
                document.querySelectorAll('.difficulty-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
                        e.target.classList.add('active');
                        this.setDifficulty(e.target.dataset.difficulty);
                        this.newGame();
                    });
                });

                // Panel clicks
                document.getElementById('mockup-right').addEventListener('click', (e) => {
                    this.handleClick(e);
                });

                // Control buttons
                document.getElementById('new-game').addEventListener('click', () => this.newGame());
                document.getElementById('reset-level').addEventListener('click', () => this.resetLevel());
                document.getElementById('pause-btn').addEventListener('click', () => this.togglePause());
                document.getElementById('hint-btn').addEventListener('click', () => this.useHint());

                // Modal buttons
                document.getElementById('next-level').addEventListener('click', () => this.nextLevel());
                document.getElementById('close-modal').addEventListener('click', () => this.closeModal());

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    switch(e.key) {
                        case ' ':
                            e.preventDefault();
                            this.togglePause();
                            break;
                        case 'h':
                            this.useHint();
                            break;
                        case 'r':
                            this.resetLevel();
                            break;
                    }
                });
            }

            handleClick(e) {
                if (this.isPaused) return;

                this.totalClicks++;
                this.createClickEffect(e);

                const clickedElement = e.target;
                let foundDifference = false;

                // Check if clicked element or its parent has a difference
                this.differences.forEach((diff, index) => {
                    if (diff.found) return;
                    
                    if (clickedElement === diff.element || 
                        diff.element.contains(clickedElement) ||
                        clickedElement.contains(diff.element)) {
                        
                        foundDifference = true;
                        diff.found = true;
                        this.correctClicks++;
                        this.foundDifferences++;
                        this.score += this.calculateScore();
                        
                        this.markDifference(diff.element);
                        this.showToast(`Great! Found: ${diff.description}`, 'success');
                        
                        if (this.foundDifferences === this.totalDifferences) {
                            setTimeout(() => this.levelComplete(), 500);
                        }
                    }
                });

                if (!foundDifference) {
                    this.showToast('Not quite right. Keep looking!', 'error');
                }

                this.updateStats();
            }

            createClickEffect(e) {
                const effect = document.createElement('div');
                effect.className = 'click-effect';
                effect.style.left = (e.clientX - e.currentTarget.getBoundingClientRect().left - 10) + 'px';
                effect.style.top = (e.clientY - e.currentTarget.getBoundingClientRect().top - 10) + 'px';
                
                e.currentTarget.appendChild(effect);
                setTimeout(() => effect.remove(), 600);
            }

            markDifference(element) {
                const marker = document.createElement('div');
                marker.className = 'difference-marker found';
                
                const rect = element.getBoundingClientRect();
                const containerRect = element.closest('.ui-mockup').getBoundingClientRect();
                
                marker.style.left = (rect.left - containerRect.left + rect.width/2 - 20) + 'px';
                marker.style.top = (rect.top - containerRect.top + rect.height/2 - 20) + 'px';
                marker.style.opacity = '1';
                marker.style.pointerEvents = 'none';
                
                element.closest('.ui-mockup').appendChild(marker);
            }

            calculateScore() {
                const timeBonus = Math.max(0, 1000 - (Date.now() - this.startTime) / 1000);
                const accuracyBonus = (this.correctClicks / Math.max(1, this.totalClicks)) * 500;
                const levelMultiplier = this.currentLevel * 100;
                
                return Math.round(timeBonus + accuracyBonus + levelMultiplier);
            }

            useHint() {
                if (this.hintsLeft <= 0) return;
                
                const unfoundDifferences = this.differences.filter(d => !d.found);
                if (unfoundDifferences.length === 0) return;
                
                const randomDiff = unfoundDifferences[Math.floor(Math.random() * unfoundDifferences.length)];
                this.highlightElement(randomDiff.element);
                
                this.hintsLeft--;
                document.getElementById('hints-left').textContent = this.hintsLeft;
                document.getElementById('hint-btn').disabled = this.hintsLeft <= 0;
                
                this.showToast(`Hint: Look for ${randomDiff.description}`, 'hint');
            }

            highlightElement(element) {
                element.style.boxShadow = '0 0 15px #ff9500';
                element.style.transition = 'box-shadow 0.3s ease';
                
                setTimeout(() => {
                    element.style.boxShadow = '';
                }, 3000);
            }

            showToast(message, type = 'info') {
                const toast = document.getElementById('toast');
                toast.textContent = message;
                toast.className = `toast show ${type}`;
                
                const colors = {
                    success: '#34c759',
                    error: '#ff3b30',
                    hint: '#ff9500',
                    info: '#007aff'
                };
                
                toast.style.background = colors[type] || colors.info;
                
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }

            updateStats() {
                document.getElementById('level').textContent = this.currentLevel;
                document.getElementById('score').textContent = this.score.toLocaleString();
                document.getElementById('found').textContent = `${this.foundDifferences}/${this.totalDifferences}`;
                
                const accuracy = this.totalClicks > 0 ? 
                    Math.round((this.correctClicks / this.totalClicks) * 100) : 100;
                document.getElementById('accuracy').textContent = accuracy + '%';
            }

            updateProgress() {
                const progress = (this.foundDifferences / this.totalDifferences) * 100;
                document.getElementById('progress').style.width = progress + '%';
            }

            startTimer() {
                this.gameTimer = setInterval(() => {
                    if (this.isPaused) return;
                    
                    const elapsed = Math.floor((Date.now() - this.startTime) / 1000);
                    const minutes = Math.floor(elapsed / 60);
                    const seconds = elapsed % 60;
                    
                    document.getElementById('timer').textContent = 
                        `${minutes}:${seconds.toString().padStart(2, '0')}`;
                }, 1000);
            }

            togglePause() {
                this.isPaused = !this.isPaused;
                const btn = document.getElementById('pause-btn');
                btn.textContent = this.isPaused ? 'Resume' : 'Pause';
                
                if (this.isPaused) {
                    this.showToast('Game paused. Press space or click Resume to continue.', 'info');
                }
            }

            levelComplete() {
                const completionTime = Math.floor((Date.now() - this.startTime) / 1000);
                const accuracy = Math.round((this.correctClicks / this.totalClicks) * 100);
                
                document.getElementById('completion-time').textContent = 
                    `${Math.floor(completionTime / 60)}:${(completionTime % 60).toString().padStart(2, '0')}`;
                document.getElementById('completion-accuracy').textContent = accuracy + '%';
                document.getElementById('completion-score').textContent = this.score.toLocaleString();
                
                let message = 'Excellent work!';
                if (accuracy === 100) message = 'ðŸŽ¯ Perfect accuracy!';
                else if (accuracy >= 90) message = 'ðŸ‘ Outstanding performance!';
                else if (accuracy >= 80) message = 'ðŸ‘ Great job!';
                
                document.getElementById('success-message').textContent = message;
                document.getElementById('success-modal').classList.add('show');
            }

            nextLevel() {
                this.currentLevel++;
                this.closeModal();
                this.resetLevel();
                this.showToast(`Level ${this.currentLevel} - Let's go!`, 'success');
            }

            newGame() {
                this.currentLevel = 1;
                this.score = 0;
                this.resetLevel();
                this.showToast('New game started! Good luck!', 'info');
            }

            resetLevel() {
                this.foundDifferences = 0;
                this.totalClicks = 0;
                this.correctClicks = 0;
                this.startTime = Date.now();
                this.hintsLeft = Math.max(1, Math.floor(this.totalDifferences / 2));
                
                document.getElementById('hints-left').textContent = this.hintsLeft;
                document.getElementById('hint-btn').disabled = false;
                
                // Clear existing markers
                document.querySelectorAll('.difference-marker').forEach(marker => marker.remove());
                
                this.generateLevel();
                this.updateStats();
                this.updateProgress();
            }

            closeModal() {
                document.getElementById('success-modal').classList.remove('show');
            }
        }

        // Initialize game when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new SpotTheDifferenceGame();
        });

        // Add some additional visual polish
        document.addEventListener('mousemove', (e) => {
            const mockups = document.querySelectorAll('.ui-mockup');
            mockups.forEach(mockup => {
                const rect = mockup.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
                    mockup.style.cursor = 'crosshair';
                }
            });
        });
    </script>
</body>
</html>